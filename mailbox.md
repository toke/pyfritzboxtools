

Fritzbox mailbox format

formatstring = '>Ib3x6I 20x 16s 56x 15s 17x 80s 48x 5B 31x 24sI' 


Die Wichtigsten Details die ich auf die Schnelle aus dem meta0 Mailbox-File
auf der Fritzbox beziehen konnte.

 * Binäre Datei für jeden Mailboxeintrag einen Eintrag.
 * Big-Endian
 * Ein Eintrag ist 348 Bytes lang.
 * Der erste Eintrag beginnt bei Byte 0.
 

 0 uint(4) Ident?
 1 uint(1) Sequenznummer beginnend bei 0
 2 uint(1) Unklar bei mir immer 3
 3 uint(1) Unklar bei mir immer 480000
 4 uint(4) Dateigröße der Aufnahme in Bytes
 5 Dauer der Aufname in Sekunden
 6 Neue Nachricht (0 oder 1)
 7 Unklar bei mir immer 1 (Anrufbeantworter-ID?)
 8 Nummer des Anrufers als String \0 terminiert
 9 Dateiname als String \0 terminiert
 10 Voller Dateisystempfad zur Aufname \0 Terminiert
 11 Tag
 12 Monat
 13 Jahr + 2000
 14 Stunde
 15 Minute

Datei mit 3 Anrufen, der 3. davon nicht abgehört
Quellnummer 02222222222 angerufene Nummer 50000000 eine SIP-Nummer
```
00000000  00 00 01 5c 00 00 00 00  00 00 00 03 00 07 53 00  |...\..........S.|
00000010  00 00 49 0a 00 00 00 0a  00 00 00 00 00 00 00 01  |..I.............|
00000020  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000030  00 00 00 00 30 32 32 32  32 32 32 32 32 32 32 00  |....02222222222.|
00000040  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000050  00 00 00 20 00 00 00 00  00 00 00 00 00 00 00 00  |... ............|
00000060  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000070  00 00 00 00 00 00 00 00  00 00 00 00 72 65 63 2e  |............rec.|
00000080  30 2e 30 30 30 00 00 00  00 00 00 00 00 00 00 00  |0.000...........|
00000090  00 00 00 00 00 00 00 00  00 00 00 00 2f 76 61 72  |............/var|
000000a0  2f 6d 65 64 69 61 2f 66  74 70 2f 4b 69 6e 67 73  |/media/ftp/Kings|
000000b0  74 6f 6e 2d 44 61 74 61  54 72 61 76 65 6c 65 72  |ton-DataTraveler|
000000c0  32 2d 30 2d 30 31 2f 46  52 49 54 5a 2f 76 6f 69  |2-0-01/FRITZ/voi|
000000d0  63 65 62 6f 78 2f 72 65  63 2f 72 65 63 2e 30 2e  |cebox/rec/rec.0.|
000000e0  30 30 30 00 00 00 00 00  00 00 00 00 00 00 00 00  |000.............|
000000f0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000110  00 00 00 00 00 00 00 00  00 00 00 00 1c 0a 0d 0a  |................|
00000120  30 00 00 00 2c cf a3 96  2a e4 2e 00 00 50 00 01  |0...,...*....P..|
00000130  00 00 00 00 00 00 00 00  00 00 00 20 00 00 00 00  |........... ....|
00000140  35 30 30 30 30 30 30 30  00 00 00 00 00 00 00 00  |50000000........|
00000150  00 00 00 00 00 00 00 00  00 00 00 00 00 00 01 5c  |...............\|
00000160  02 00 00 00 00 00 00 03  00 07 53 00 00 00 04 08  |..........S.....|
00000170  00 00 00 02 00 00 00 00  00 00 00 01 00 00 00 00  |................|
00000180  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000190  30 32 32 32 32 32 32 32  32 00 00 00 00 00 00 00  |022222222.......|
000001a0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 20  |............... |
000001b0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000001d0  00 00 00 00 00 00 00 00  72 65 63 2e 30 2e 30 30  |........rec.0.00|
000001e0  32 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |2...............|
000001f0  00 00 00 00 00 00 00 00  2f 76 61 72 2f 6d 65 64  |......../var/med|
00000200  69 61 2f 66 74 70 2f 4b  69 6e 67 73 74 6f 6e 2d  |ia/ftp/Kingston-|
00000210  44 61 74 61 54 72 61 76  65 6c 65 72 32 2d 30 2d  |DataTraveler2-0-|
00000220  30 31 2f 46 52 49 54 5a  2f 76 6f 69 63 65 62 6f  |01/FRITZ/voicebo|
00000230  78 2f 72 65 63 2f 72 65  63 2e 30 2e 30 30 32 00  |x/rec/rec.0.002.|
00000240  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000270  00 00 00 00 00 00 00 00  01 0b 0d 09 34 00 00 00  |............4...|
00000280  2c d4 dc 68 2a e4 30 00  00 50 00 01 00 00 00 00  |,..h*.0..P......|
00000290  00 00 00 00 00 00 00 20  00 00 00 00 35 30 30 30  |....... ....5000|
000002a0  30 30 30 30 00 00 00 00  00 00 00 00 00 00 00 00  |0000............|
000002b0  00 00 00 00 2a e4 2a 00  00 00 01 5c 01 00 00 00  |....*.*....\....|
000002c0  00 00 00 03 00 07 53 00  00 00 1b 3f 00 00 00 04  |......S....?....|
000002d0  00 00 00 01 00 00 00 01  00 00 00 00 00 00 00 00  |................|
000002e0  00 00 00 00 00 00 00 00  00 00 00 00 30 32 32 32  |............0222|
000002f0  32 32 32 32 32 32 32 00  00 00 00 00 00 00 00 00  |2222222.........|
00000300  00 00 00 00 00 00 00 00  00 00 00 20 00 00 00 00  |........... ....|
00000310  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00000330  00 00 00 00 72 65 63 2e  30 2e 30 30 31 00 00 00  |....rec.0.001...|
00000340  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000350  00 00 00 00 2f 76 61 72  2f 6d 65 64 69 61 2f 66  |..../var/media/f|
00000360  74 70 2f 4b 69 6e 67 73  74 6f 6e 2d 44 61 74 61  |tp/Kingston-Data|
00000370  54 72 61 76 65 6c 65 72  32 2d 30 2d 30 31 2f 46  |Traveler2-0-01/F|
00000380  52 49 54 5a 2f 76 6f 69  63 65 62 6f 78 2f 72 65  |RITZ/voicebox/re|
00000390  63 2f 72 65 63 2e 30 2e  30 30 31 00 00 00 00 00  |c/rec.0.001.....|
000003a0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000003d0  00 00 00 00 05 0b 0d 0f  2b 00 00 00 2c da 74 92  |........+...,.t.|
000003e0  00 00 00 00 00 50 00 01  00 00 00 00 00 00 00 00  |.....P..........|
000003f0  00 00 00 20 00 00 00 00  35 30 30 30 30 30 30 30  |... ....50000000|
00000400  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000410  2a ed 12 00                                       |*...|
00000414
```
